(this["webpackJsonpsteps-recorder"]=this["webpackJsonpsteps-recorder"]||[]).push([[0],{18:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),d=a(11),c=a.n(d),s=a(3),l=a(5),r=a(2),u=(a(6),a(19)),o=a(0),j=function(e){var t=e.handleDate,a=e.handleSubmit,n=e.handleSteps,i=e.steps,d=e.date,c=e.edit;return Object(o.jsxs)("form",{onSubmit:a,className:"form",children:[Object(o.jsx)("label",{className:"labelDate",htmlFor:"date",children:"\u0414\u0430\u0442\u0430(\u0414\u0414.\u041c\u041c.\u0413\u0413)"}),Object(o.jsx)("label",{className:"labelDistance",htmlFor:"distance",children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"}),Object(o.jsx)("input",{onChange:t,type:"date",className:"inputDate",id:"date",name:"date",readOnly:c&&!0,value:Object(u.a)(new Date(d),"yyyy-MM-dd"),required:!0}),Object(o.jsx)("input",{type:"number",onChange:n,required:!0,className:"inputDistance",id:"distance",name:"distance",value:c?1:i,readOnly:c&&!0,placeholder:"Number"}),Object(o.jsx)("button",{onSubmit:a,className:"submit",type:"submit",disabled:c&&!0,children:"Ok"})]})},b=a(9),h=a.n(b),O=function(e){var t=e.id,a=e.date,n=e.steps,i=e.handleRemove,d=e.handleEditMode,c=e.edit,s=e.isEdit,l=e.handleDate,r=e.handleSteps,j=e.cancelEditMode,b=e.handleSaveEditChange,O=e.idx,m=(e.stepsAll,e.editDate),p=e.editSteps;return c?Object(o.jsxs)("div",{className:"form-edit",children:[Object(o.jsx)("input",{onChange:l,type:"date",className:"inputDate",id:"date",name:"date",value:Object(u.a)(new Date(m),"yyyy-MM-dd"),required:!0}),Object(o.jsx)("input",{type:"number",onChange:r,required:!0,className:"inputDistance",id:"distance",name:"distance",value:s&&p,placeholder:"Number"}),Object(o.jsx)("button",{onClick:function(){return j(O)},className:"submit",children:"cancel"}),Object(o.jsx)("button",{className:"submit",onClick:function(){return b(t)},children:"save"})]}):Object(o.jsxs)("li",{className:h()("itemResult",{"itemResult activeItem":c}),children:[Object(o.jsx)("span",{children:Object(u.a)(new Date(a),"dd-MM-yyyy")}),Object(o.jsx)("span",{children:n}),Object(o.jsxs)("div",{className:"icons",children:[Object(o.jsx)("i",{className:h()("fa fa-pencil  fa-flip-horizontal",{" fa-pencil-square-o":c}),"aria-hidden":"true",onClick:function(e){return!s&&d(O,e)}}),Object(o.jsx)("i",{className:"fa fa-times",onClick:function(){return!s&&i(t)},"aria-hidden":"true"})]})]})},m=a(12),p=function(e){var t=e.tableData,a=e.handleRemove,n=e.handleEditMode,d=e.handleSaveEditChange,c=e.isEdit,s=e.handleDate,l=e.handleSteps,r=e.handleSubmit,u=e.cancelEditMode,j=e.stepsAll,b=e.editDate,h=e.editSteps;return Object(o.jsxs)(i.a.Fragment,{children:[Object(o.jsxs)("div",{className:"titleResult",children:[Object(o.jsx)("span",{children:"\u0414\u0430\u0442\u0430(\u0414\u0414.\u041c\u041c.\u0413\u0413)"}),Object(o.jsx)("span",{children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"}),Object(o.jsx)("span",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]}),Object(o.jsx)("ul",{className:"resultList",children:t.length>0?t.map((function(e,t){var i=e.date,p=e.steps,f=e.id,v=e.edit;return Object(o.jsx)(O,{date:i,stepsAll:j,handleRemove:a,handleEditMode:n,steps:p,id:f,edit:v,isEdit:c,handleDate:s,handleSteps:l,handleSubmit:r,cancelEditMode:u,idx:t,editDate:b,editSteps:h,handleSaveEditChange:d},Object(m.a)())})):Object(o.jsx)("li",{className:"noData",children:"No data to display"})})]})},f=function(){var e=Object(n.useState)(new Date),t=Object(r.a)(e,2),a=t[0],i=t[1],d=Object(n.useState)(1),c=Object(r.a)(d,2),b=c[0],h=c[1],O=Object(n.useState)(!1),m=Object(r.a)(O,2),f=m[0],v=m[1],y=Object(n.useState)(0),x=Object(r.a)(y,2),D=x[0],S=x[1],N=Object(n.useState)(0),E=Object(r.a)(N,2),M=E[0],w=E[1],g=Object(n.useState)([]),C=Object(r.a)(g,2),k=C[0],R=C[1],q=Object(u.a)(new Date(a),"yyyy-MM-dd"),A=function e(t){if(console.log("e.keyCode",t.keyCode),27===t.keyCode){window.removeEventListener("keydown",e),v(!1);var a=k.map((function(e){return e.edit?Object(l.a)(Object(l.a)({},e),{},{edit:!1}):e}));R(a)}};Object(n.useEffect)((function(){return console.log("\u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c \u0445\u0443\u043a useEffect \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0433\u0434\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f edit!"),window.addEventListener("keydown",A),function(){return window.removeEventListener("keydown",A)}}),[f]);var L=function(e){var t=e.target.value;Object(u.a)(new Date(t),"yyyy-MM-dd")>Object(u.a)(new Date,"yyyy-MM-dd")?alert("\u0414\u0430\u0442\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b"):f?w(t):i(t)},F=function(e){var t=e.target.value;f?t>=0&&S(t):t>=0&&h(t)};return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"title",children:"\u0423\u0447\u0451\u0442 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),Object(o.jsx)(j,{handleDate:L,handleSteps:F,handleSubmit:function(e){var t;if(e.preventDefault(),!(b<=0)&&a){var n=null===(t=k.find((function(e){return e.id===q})))||void 0===t?void 0:t.id;if(n&&!f)R(function(e){return k.reduce((function(t,a){return a.id===e?[].concat(Object(s.a)(t),[Object(l.a)(Object(l.a)({},a),{},{steps:Number(a.steps)+Number(b)})]):(a.edit=!1,[].concat(Object(s.a)(t),[a]))}),[])}(n));else if(f){var d=k.map((function(e){return e.id===n&&(e.steps=b,e.id=q,e.date=q,e.edit=!1),e}));R(d)}else R([].concat(Object(s.a)(k),[{id:q,date:q,steps:b}]));i(new Date),h(1),v(!1)}},date:a,steps:b,edit:f}),Object(o.jsx)(p,{editDate:M,editSteps:D,stepsAll:b,handleEditMode:function(e){var t=Object(s.a)(k);t[e].edit=!0,S(t[e].steps),w(t[e].date),R(t),v(!0)},handleRemove:function(e){var t=k.filter((function(t){return t.id!==e}));R(t)},tableData:k,isEdit:f,handleDate:L,handleSteps:F,cancelEditMode:function(e){var t=Object(s.a)(k);t[e].edit=!1,R(t),v(!1),h(1),i(new Date)},handleSaveEditChange:function(e){var t=k.find((function(t){return t.id===e}));t.steps=D,t.date=M,t.id=M,t.edit=!1,v(!1),h(1)}})]})};c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(f,{})}),document.getElementById("root"))},6:function(e,t,a){}},[[18,1,2]]]);
//# sourceMappingURL=main.5944080c.chunk.js.map