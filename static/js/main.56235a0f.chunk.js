(this["webpackJsonpsteps-recorder"]=this["webpackJsonpsteps-recorder"]||[]).push([[0],{18:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),d=a(11),c=a.n(d),s=a(2),l=a(5),r=a(4),u=(a(6),a(19)),o=a(0),j=function(e){var t=e.handleDate,a=e.handleSubmit,n=e.handleSteps,i=e.steps,d=e.date;return Object(o.jsxs)("form",{onSubmit:a,className:"form",children:[Object(o.jsx)("label",{className:"labelDate",htmlFor:"date",children:"\u0414\u0430\u0442\u0430(\u0414\u0414.\u041c\u041c.\u0413\u0413)"}),Object(o.jsx)("label",{className:"labelDistance",htmlFor:"distance",children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"}),Object(o.jsx)("input",{onChange:t,type:"date",className:"inputDate",id:"date",name:"date",value:Object(u.a)(new Date(d),"yyyy-MM-dd"),required:!0}),Object(o.jsx)("input",{type:"number",onChange:n,required:!0,className:"inputDistance",id:"distance",name:"distance",value:i,placeholder:"Number"}),Object(o.jsx)("button",{onSubmit:a,className:"submit",type:"submit",children:"Ok"})]})},b=a(9),h=a.n(b),m=function(e){var t=e.id,a=e.date,n=e.steps,i=e.handleRemove,d=e.handleEditMode,c=e.edit,s=e.isEdit,l=e.handleDate,r=e.handleSteps,j=e.cancelEditMode,b=e.handleSaveEditChange,m=e.idx,O=e.stepsAll;return c?Object(o.jsxs)("div",{className:"form-edit",children:[Object(o.jsx)("input",{onChange:l,type:"date",className:"inputDate",id:"date",name:"date",value:Object(u.a)(new Date(a),"yyyy-MM-dd"),required:!0}),Object(o.jsx)("input",{type:"number",onChange:r,required:!0,className:"inputDistance",id:"distance",name:"distance",value:s?O:n,placeholder:"Number"}),Object(o.jsx)("button",{onClick:function(){return j(m)},className:"submit",children:"cancel"}),Object(o.jsx)("button",{className:"submit",onClick:function(){return b(t)},children:"save"})]}):Object(o.jsxs)("li",{className:h()("itemResult",{"itemResult activeItem":c}),children:[Object(o.jsx)("span",{children:Object(u.a)(new Date(a),"dd-MM-yyyy")}),Object(o.jsx)("span",{children:n}),Object(o.jsxs)("div",{className:"icons",children:[Object(o.jsx)("i",{className:h()("fa fa-pencil  fa-flip-horizontal",{" fa-pencil-square-o":c}),"aria-hidden":"true",onClick:function(){return d(m)}}),Object(o.jsx)("i",{className:"fa fa-times",onClick:function(){return!s&&i(t)},"aria-hidden":"true"})]})]})},O=a(12),p=function(e){var t=e.tableData,a=e.handleRemove,n=e.handleEditMode,d=e.handleSaveEditChange,c=e.isEdit,s=e.handleDate,l=e.handleSteps,r=e.handleSubmit,u=e.cancelEditMode,j=e.stepsAll;return Object(o.jsxs)(i.a.Fragment,{children:[Object(o.jsxs)("div",{className:"titleResult",children:[Object(o.jsx)("span",{children:"\u0414\u0430\u0442\u0430(\u0414\u0414.\u041c\u041c.\u0413\u0413)"}),Object(o.jsx)("span",{children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"}),Object(o.jsx)("span",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]}),Object(o.jsx)("ul",{className:"resultList",children:t.length>0?t.map((function(e,t){var i=e.date,b=e.steps,h=e.id,p=e.edit;return Object(o.jsx)(m,{date:i,stepsAll:j,handleRemove:a,handleEditMode:n,steps:b,id:h,edit:p,isEdit:c,handleDate:s,handleSteps:l,handleSubmit:r,cancelEditMode:u,idx:t,handleSaveEditChange:d},Object(O.a)())})):Object(o.jsx)("li",{className:"noData",children:"No data to display"})})]})},f=function(){var e=Object(n.useState)(new Date),t=Object(r.a)(e,2),a=t[0],i=t[1],d=Object(n.useState)(1),c=Object(r.a)(d,2),b=c[0],h=c[1],m=Object(n.useState)(!1),O=Object(r.a)(m,2),f=O[0],v=O[1],y=Object(n.useState)([]),x=Object(r.a)(y,2),N=x[0],D=x[1],E=Object(u.a)(new Date(a),"yyyy-MM-dd"),M=function e(t){if(console.log("e.keyCode",t.keyCode),27===t.keyCode){window.removeEventListener("keydown",e),v(!1);var a=N.map((function(e){return e.edit?Object(l.a)(Object(l.a)({},e),{},{edit:!1}):e}));D(a)}};Object(n.useEffect)((function(){return console.log("\u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c \u0445\u0443\u043a useEffect \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0433\u0434\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f edit!"),window.addEventListener("keydown",M),function(){return window.removeEventListener("keydown",M)}}),[f]);var S=function(e){var t=e.target.value;Object(u.a)(new Date(t),"yyyy-MM-dd")>Object(u.a)(new Date,"yyyy-MM-dd")?alert("\u0414\u0430\u0442\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b"):i(t)},w=function(e){var t=e.target;h(t.value)};return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"title",children:"\u0423\u0447\u0451\u0442 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),Object(o.jsx)(j,{handleDate:S,handleSteps:w,handleSubmit:function(e){var t;if(e.preventDefault(),!(b<=0)&&a){var n=null===(t=N.find((function(e){return e.id===E})))||void 0===t?void 0:t.id;if(n&&!f)D(function(e){return N.reduce((function(t,a){return a.id===e?[].concat(Object(s.a)(t),[Object(l.a)(Object(l.a)({},a),{},{steps:Number(a.steps)+Number(b)})]):(a.edit=!1,[].concat(Object(s.a)(t),[a]))}),[])}(n));else if(f){var d=N.map((function(e){return e.id===n&&(e.steps=b,e.id=E,e.date=E,e.edit=!1),e}));D(d)}else D([].concat(Object(s.a)(N),[{id:E,date:E,steps:b}]));i(new Date),h(1),v(!1)}},date:a,steps:b,edit:f}),Object(o.jsx)(p,{stepsAll:b,handleEditMode:function(e){var t=Object(s.a)(N);t[e].edit=!0,D(t),v(!0)},handleRemove:function(e){var t=N.filter((function(t){return t.id!==e}));D(t)},tableData:N,isEdit:f,handleDate:S,handleSteps:w,cancelEditMode:function(e){var t=Object(s.a)(N);t[e].edit=!1,D(t),v(!1)},handleSaveEditChange:function(e){var t=N.find((function(t){return t.id===e}));t.steps=b,t.edit=!1,v(!1)}})]})};c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(f,{})}),document.getElementById("root"))},6:function(e,t,a){}},[[18,1,2]]]);
//# sourceMappingURL=main.56235a0f.chunk.js.map